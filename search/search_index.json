{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Welcome to PYTHON Group Project","text":"<p>This project developed a comprehensive predictive model powered by the IBM Telco Customer Churn dataset to identify and quantify potential customer flight risk, translating technical insights into a clear competitive advantage for retention strategy.</p>"},{"location":"#features","title":"Features","text":"<ul> <li>Good looking dashboard</li> <li>CI/CD pipeline</li> <li>Easy to use API</li> <li>Great Prediction</li> <li>Interactive Streamlit</li> <li>Reactive Marimo Notebook</li> </ul>"},{"location":"#project-layout","title":"Project layout","text":"<pre><code>mkdocs.yml          # The configuration file.\ndocs/\n    index.md        # The documentation homepage.\n    ...             # Other markdown pages, images and other files.\nmain.py             # Set API with FastAPI\ntelco_marimo.py     # Marimo notebook\nfunction_app.py     # Azure function definition\nprediction.py       # Prediction model\napp.py              # Set streamlit function\n</code></pre>"},{"location":"#contributing","title":"Contributing","text":"<ul> <li>Make prediction model successfully</li> <li>Wonderful streamlit and marimo</li> <li>CI pipeline runs automatically</li> <li>CD pipeline triggers automatically</li> <li>Deploys to Azure Function App</li> <li>Live service updated</li> </ul>"},{"location":"Streamlit/","title":"Interactive Streamlit Dashboard","text":"<p>Our Streamlit Dashboard provides an intuitive, understandable web interface for interacting with the prediction model, inputting data, and visualizing real-time results and key insights.</p>"},{"location":"Streamlit/#streamlit-function","title":"Streamlit Function","text":"<pre><code># CONFIG\nst.set_page_config(\n    page_title=\"Telco Churn Prediction\",\n    page_icon=\"\ud83d\udcca\",\n    layout=\"centered\",\n)\n\n\n# CUSTOM CSS\nst.markdown(\n    \"\"\"\n    &lt;style&gt;\n\n    /* Main page width */\n    .block-container {\n        max-width: 900px;\n        padding-top: 2rem;\n    }\n\n    /* Title styling */\n    h1 {\n        font-size: 3rem !important;\n        font-weight: 700 !important;\n        color: #2B2D42 !important;\n        margin-bottom: 0.5rem;\n    }\n\n    .subtitle {\n        font-size: 1.2rem;\n        color: #6A6A6A;\n        margin-bottom: 2rem;\n    }\n\n    /* Increase slider label size */\n    .stSlider label, .stSelectbox label {\n        font-weight: 600 !important;\n        color: #333 !important;\n    }\n\n    /* Card style for prediction */\n    .result-card {\n        background: white;\n        padding: 1.5rem;\n        border-radius: 12px;\n        box-shadow: 0 4px 12px rgba(0,0,0,0.08);\n        text-align: center;\n        margin-top: 1.5rem;\n    }\n\n    .result-prob {\n        font-size: 2.2rem;\n        font-weight: 700;\n        color: #D90429;\n    }\n\n    &lt;/style&gt;\n    \"\"\",\n    unsafe_allow_html=True,\n)\n\n# TITLE\nst.markdown(\"&lt;h1&gt;\ud83d\udcca Telco Customer Churn Prediction&lt;/h1&gt;\", unsafe_allow_html=True)\nst.markdown(\n    \"&lt;p class='subtitle'&gt;Adjust customer attributes to estimate the likelihood of churn.&lt;/p&gt;\",\n    unsafe_allow_html=True,\n)\n\n# INPUT UI\ncol1, col2 = st.columns(2)\n\nwith col1:\n    tenure = st.slider(\"Customer Tenure (months)\", 0, 72, 12)\n    techsupport = st.selectbox(\"Tech Support Included?\", [\"No\", \"Yes\"])\n    payment_method = st.selectbox(\n        \"Payment Method\",\n        [\n            \"Credit card (automatic)\",\n            \"Electronic check\",\n            \"Mailed check\",\n            \"Bank transfer (automatic)\",\n        ]\n    )\n\nwith col2:\n    monthly = st.slider(\"Monthly Charges ($)\", 0.0, 150.0, 70.0)\n    paperless = st.selectbox(\"Paperless Billing?\", [\"No\", \"Yes\"])\n    internet_service = st.selectbox(\n        \"Internet Service\",\n        [\"DSL\", \"Fiber optic\", \"No\"],\n    )\n\ncontract_months = st.slider(\"Contract Length (months)\", 1, 36, 12)\n\n# BUTTON + API CALL\nif st.button(\"\ud83d\udd2e Predict Churn Probability\"):\n    params = {\n        \"tenure\": tenure,\n        \"monthly\": monthly,\n        \"techsupport\": 1 if techsupport == \"Yes\" else 0,\n        \"paperless\": 1 if paperless == \"Yes\" else 0,\n        \"contract_months\": contract_months,\n        \"internet_service\": internet_service,\n        \"payment_method\": payment_method,\n    }\n\n    try:\n        response = requests.post(API_URL, params=params)\n\n        if response.status_code == 200:\n            prob = float(response.text)\n\n            st.markdown(\n                f\"\"\"\n                &lt;div class='result-card'&gt;\n                    &lt;div class='result-prob'&gt;{prob:.2%}&lt;/div&gt;\n                    &lt;p&gt;Predicted likelihood of churn&lt;/p&gt;\n                &lt;/div&gt;\n                \"\"\",\n                unsafe_allow_html=True,\n            )\n\n            # Gauge-style bar chart\n            fig, ax = plt.subplots(figsize=(6, 1.2))\n            ax.barh([\"\"], [prob], color=\"#D90429\")\n            ax.set_xlim(0, 1)\n            ax.set_yticks([])\n            ax.set_xlabel(\"Churn Probability\")\n            st.pyplot(fig)\n\n        else:\n            st.error(f\"API Error: {response.text}\")\n\n    except Exception as e:\n        st.error(f\"Connection failed: {e}\")\n</code></pre>"},{"location":"Streamlit/#run-streamlit","title":"Run Streamlit","text":"<pre><code>uv run streamlit run streamlit_app.py\n</code></pre>"},{"location":"api/","title":"Application Programing Interface","text":"<p>Our api is nice and easy to use. Here's how:</p>"},{"location":"api/#data-model","title":"Data Model","text":"<p>Here is our Pydantic data model. Our API supports these params:</p> <ul> <li><code>tenure</code></li> <li><code>MonthlyCharges</code></li> <li><code>TechSupport_yes</code></li> <li><code>Contract_one year</code></li> <li><code>Contract_two year</code></li> <li><code>PaperlessBilling_yes</code></li> <li><code>InternetService_fiber optic</code></li> <li><code>InternetService_no</code></li> <li><code>PaymentMethod_credit card (automatic)</code></li> <li><code>PaymentMethod_electronic check</code></li> <li><code>PaymentMethod_mailed check</code></li> </ul> <pre><code>class PredictionRequest(BaseModel):\n    tenure: float\n    monthly: float\n    techsupport: int\n    paperless: int\n    contract_months: int\n    internet_service: str\n    payment_method: str\n\ndef convert_contract(months):\n    if months &lt;= 1:\n        return 0, 0\n    elif months &lt;= 12:\n        return 1, 0\n    else:\n        return 0, 1\n\ndef convert_internet(service):\n    s = service.lower().strip()\n    return (\n        1 if s == \"fiber optic\" else 0,\n        1 if s == \"no\" else 0,\n    )\n\ndef convert_payment(method):\n    m = method.lower().strip()\n    return (\n        1 if m == \"credit card (automatic)\" else 0,\n        1 if m == \"electronic check\" else 0,\n        1 if m == \"mailed check\" else 0,\n    )\n</code></pre>"},{"location":"marimo_notebook/","title":"Reactive Marimo Notebook","text":"<p>By utilizing an interactive input form to gather customer data, the dashboard  facilitates real-time predictions via the underlying FastAPI architecture. The results are then analyzed, offering a distinct visual representation of churn likelihood.</p>"},{"location":"marimo_notebook/#marimo-notebook-function","title":"Marimo Notebook Function","text":"<pre><code>@app.cell\ndef _(MODEL_SAVE_PATH, SAVE_MODEL, model, scaler):\n    if SAVE_MODEL:\n        joblib.dump({\"model\": model, \"scaler\": scaler}, MODEL_SAVE_PATH)\n        mo.md(\"Model saved successfully!\")\n    return\n\n\nif __name__ == \"__main__\":\n    app.run()\n</code></pre>"},{"location":"marimo_notebook/#run-marimo-notebook","title":"Run Marimo Notebook","text":"<pre><code>marimo run notebooks/telco_marimo.py\nmarimo edit notebooks/telco_marimo.py\n</code></pre>"},{"location":"pipeline/","title":"CI/CD pipeline","text":""},{"location":"pipeline/#continuous-integration-ci","title":"Continuous Integration (CI)","text":"<ul> <li>Trigger: The CI starts running automatically when you push or pull code to the main branch.</li> <li>Pytest: Run all the unit tests from that tests/ folder just to make sure nothing is broken.</li> <li>Type Checking: pyright checks all our Python type hints.</li> </ul>"},{"location":"pipeline/#continuous-deployment-cd","title":"Continuous Deployment (CD)","text":"<ul> <li>Trigger: Deployment initiates automatically upon a successful merge into the main branch.</li> <li>Environment: Targets the Azure Function App.</li> <li>Setup: The deployment workflow file was automatically generated during the initial Azure setup.</li> <li>Mechanism: CD is enabled, pulling the latest artifacts directly from the GitHub repository for service updates.</li> </ul>"},{"location":"prediction/","title":"Great Prediction","text":"<p>Our prediction model is excellent to predict Telco Churn Probability. Here's how:</p>"},{"location":"prediction/#prediction-model","title":"Prediction Model","text":"<p>Our prediciton model uses 11 factors to predict customers' behaviors:</p> <ul> <li><code>tenure</code></li> <li><code>MonthlyCharges</code></li> <li><code>TechSupport_yes</code></li> <li><code>Contract_one year</code></li> <li><code>Contract_two year</code></li> <li><code>PaperlessBilling_yes</code></li> <li><code>InternetService_fiber optic</code></li> <li><code>InternetService_no</code></li> <li><code>PaymentMethod_credit card (automatic)</code></li> <li><code>PaymentMethod_electronic check</code></li> <li><code>PaymentMethod_mailed check</code></li> </ul> <pre><code>def predict(data: PredictionRequest):\n\n    c1, c2 = convert_contract(data.contract_months)\n    i_fiber, i_no = convert_internet(data.internet_service)\n    p_card, p_echeck, p_mail = convert_payment(data.payment_method)\n\n    try:\n        prob = make_prediction(\n            **{\n                \"tenure\": data.tenure,\n                \"MonthlyCharges\": data.monthly,\n                \"TechSupport_yes\": data.techsupport,\n                \"Contract_one year\": c1,\n                \"Contract_two year\": c2,\n                \"PaperlessBilling_yes\": data.paperless,\n                \"InternetService_fiber optic\": i_fiber,\n                \"InternetService_no\": i_no,\n                \"PaymentMethod_credit card (automatic)\": p_card,\n                \"PaymentMethod_electronic check\": p_echeck,\n                \"PaymentMethod_mailed check\": p_mail,\n            }\n        )\n    except Exception as e:\n        raise HTTPException(status_code=400, detail=str(e))\n\n    return {\"churn_probability\": prob}\n</code></pre>"}]}